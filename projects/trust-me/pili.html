<html>
    <head>
        <link href="keks.css" rel="stylesheet" type="text/css" />
    </head>
    <body> 
        <div class="backdrop">
            <div class="top">
                <h1 title="‡∂¥‡∑í‡∑Ö‡∑í‡∂∫‡∂±‡∑ä‡∂Ø‡∂Ω ‡∂∂‡∑ù‡∂©‡∂ª‡∑ö">‡∂¥‡∑í‡∑Ö‡∑í‡∂∫‡∂±‡∑ä‡∂Ø‡∂Ω ‡∂∂‡∑ù‡∂©‡∂ª‡∑ö</h1>
                <h2 title="‡∑É‡∑ä‡∂ö‡∂±‡∑ä‡∂∞‡∂∫ ‡∂Ø‡∑í‡∂ª‡∂±‡∑Ä‡∑è ‡∂Ü‡∂≠‡∂Ω‡∑ä ‡∂â‡∂≠‡∑í‡∂ª‡∑í ‡∑Ä‡∑ô‡∂±‡∑Ä‡∑è">‡∑É‡∑ä‡∂ö‡∂±‡∑ä‡∂∞‡∂∫ ‡∂Ø‡∑í‡∂ª‡∂±‡∑Ä‡∑è ‡∂Ü‡∂≠‡∂Ω‡∑ä ‡∂â‡∂≠‡∑í‡∂ª‡∑í ‡∑Ä‡∑ô‡∂±‡∑Ä‡∑è</h2>
            </div>

            <div class="letni">
                <h2 title="‡∂Ω‡∑ù‡∂©‡∑ä ‡∑Ä‡∑ô‡∂±‡∑Ä‡∑è">‡∂Ω‡∑ù‡∂©‡∑ä ‡∑Ä‡∑ô‡∂±‡∑Ä‡∑è</h2>
                <h3></h3>
                <div class="loadbar"><div class="thingy"></div></div>
                <p>‡∂¥‡∑ú‡∂©‡∑ä‡∂©‡∂ö‡∑ä ‡∑Ñ‡∑í‡∂ß‡∂¥‡∂±‡∑ä..</p>
            </div>
            <div class="bottom">
                <div id="gradient">
                </div>
            </div>
        </div> 
        <audio id="myaudio" src="Hade-Upan-Lande.mp3" autoplay="autoplay" controls="controls" style="display: none;" loop>
            <p>If you are reading this, it is because your browser does not support the audio element.</p>
        </audio> 

        <script type="text/javascript"> 
                var source = "/Hade-Upan-Lande.mp3"
var audio = new Audio();
// no event listener needed here
audio.src = source;
audio.autoplay = true;

$("#playBtn").click(function() {
  audio.play();
});

$("#pauseBtn").click(function() {
  audio.pause();
});

$("#stopBtn").click(function() {
  audio.pause();
  audio.currentTime = 0;
});
        </script>
        
        <script src="snow.js"></script>
        <script type="text/javascript"> 
        
        window.addEventListener('load', function(){
            var audio = document.getElementById("myaudio");
            audio.volume = 0.2;
        }); 
        // this will actually restart the loading bar a lot, making multiple loading bars is an exercise to the reader... for now.
        // for a set of possible events, see https://github.com/citizenfx/fivem/blob/master/code/components/loading-screens-five/src/LoadingScreens.cpp
        var count = 0;
        var thisCount = 0;

        const emoji = {
            INIT_BEFORE_MAP_LOADED: [ '‚ò†' ],
            INIT_AFTER_MAP_LOADED: [ 'üí•', 'üí£' ],
            INIT_SESSION: [ 'üëä', 'üí™', 'üçæ' ],
        };

        const handlers = {
            startInitFunctionOrder(data)
            {
                count = data.count;

                document.querySelector('.letni h3').innerHTML += emoji[data.type][data.order - 1] || '';
            },

            initFunctionInvoking(data)
            {
                document.querySelector('.thingy').style.left = '0%';
                document.querySelector('.thingy').style.width = ((data.idx / count) * 100) + '%';
            },

            startDataFileEntries(data)
            {
                count = data.count;

                document.querySelector('.letni h3').innerHTML += "\u{1f358}";
            },

            performMapLoadFunction(data)
            {
                ++thisCount;

                document.querySelector('.thingy').style.left = '0%';
                document.querySelector('.thingy').style.width = ((thisCount / count) * 100) + '%';
            },

            onLogLine(data)
            {
                document.querySelector('.letni p').innerHTML = data.message + "..!";
            }
        };

        window.addEventListener('message', function(e)
        {
            (handlers[e.data.eventName] || function() {})(e.data);
        });
        </script>
    </body>
</html>
